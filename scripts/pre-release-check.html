<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™¼ç‰ˆå‰æª¢æŸ¥å·¥å…·</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .section h2 {
            color: #3498db;
            margin-top: 0;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        .checklist {
            list-style: none;
            padding: 0;
        }
        
        .checklist li {
            margin: 10px 0;
            padding: 8px;
            background: white;
            border-radius: 4px;
            border-left: 4px solid #95a5a6;
        }
        
        .checklist li.checked {
            border-left-color: #27ae60;
            background: #d5f4e6;
        }
        
        .checklist input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #27ae60);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 10px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .test-section {
            background: #e8f4f8;
            border: 1px solid #3498db;
        }
        
        .test-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        
        .test-button:hover {
            background: #2980b9;
        }
        
        .test-result {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
        }
        
        .test-result.success {
            background: #d5f4e6;
            border: 1px solid #27ae60;
            color: #27ae60;
        }
        
        .test-result.error {
            background: #f8d7da;
            border: 1px solid #e74c3c;
            color: #e74c3c;
        }
        
        .version-info {
            background: #fff3cd;
            border: 1px solid #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .final-check {
            background: #d1ecf1;
            border: 1px solid #17a2b8;
            text-align: center;
            padding: 20px;
        }
        
        .release-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            margin-top: 15px;
        }
        
        .release-button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }
        
        .release-button:hover:not(:disabled) {
            background: #218838;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ ç™¼ç‰ˆå‰æª¢æŸ¥å·¥å…·</h1>
        
        <div class="version-info">
            <strong>ğŸ“‹ ç•¶å‰æª¢æŸ¥ç‰ˆæœ¬ï¼š</strong>
            <input type="text" id="versionInput" placeholder="ä¾‹å¦‚ï¼šv1.2.2.0018" style="margin-left: 10px; padding: 5px;">
            <button onclick="updateVersion()" style="margin-left: 10px; padding: 5px 10px;">æ›´æ–°</button>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText">é€²åº¦ï¼š0%</div>
        
        <!-- ç‰ˆæœ¬è™Ÿæ›´æ–°æª¢æŸ¥ -->
        <div class="section">
            <h2>ğŸ”¢ ç‰ˆæœ¬è™Ÿæ›´æ–°æª¢æŸ¥</h2>
            <ul class="checklist" id="versionChecklist">
                <li><input type="checkbox" onchange="updateProgress()"> src/script.js - è¨»é‡‹ä¸­çš„ç‰ˆæœ¬è™Ÿ</li>
                <li><input type="checkbox" onchange="updateProgress()"> src/script.js - showVersionInfo() ä¸­çš„ç‰ˆæœ¬è™Ÿ</li>
                <li><input type="checkbox" onchange="updateProgress()"> src/script.js - console.log ä¸­çš„ç‰ˆæœ¬è™Ÿ (2è™•)</li>
                <li><input type="checkbox" onchange="updateProgress()"> src/version.js - currentVersion è®Šæ•¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> src/version.js - versionHistory é™£åˆ—æ–°å¢è¨˜éŒ„</li>
                <li><input type="checkbox" onchange="updateProgress()"> index.html - é é¢æ¨™é¡Œä¸­çš„ç‰ˆæœ¬è™Ÿ</li>
                <li><input type="checkbox" onchange="updateProgress()"> netlify-upload/index.html - Netlifyç‰ˆæœ¬è™Ÿ</li>
                <li><input type="checkbox" onchange="updateProgress()"> netlify-upload/src/version.js - Netlifyç‰ˆæœ¬æª”</li>
                <li><input type="checkbox" onchange="updateProgress()"> README.md - é–‹ç™¼è€…è³‡è¨Šç‰ˆæœ¬è™Ÿ</li>
                <li><input type="checkbox" onchange="updateProgress()"> README.md - ç‰ˆæœ¬æ­·å²è¨˜éŒ„</li>
            </ul>
        </div>
        
        <!-- åŠŸèƒ½æ¸¬è©¦ -->
        <div class="section test-section">
            <h2>ğŸ§ª åŠŸèƒ½æ¸¬è©¦</h2>
            <div>
                <button class="test-button" onclick="runSystemTest()">åŸ·è¡Œç³»çµ±æ¸¬è©¦</button>
                <button class="test-button" onclick="runUITest()">åŸ·è¡Œä»‹é¢æ¸¬è©¦</button>
                <button class="test-button" onclick="runFeatureTest()">åŸ·è¡ŒåŠŸèƒ½æ¸¬è©¦</button>
            </div>
            <div id="testResults" class="test-result" style="display: none;"></div>
            
            <ul class="checklist" id="featureChecklist">
                <li><input type="checkbox" onchange="updateProgress()"> æ–°å¢è‚¡ç¥¨åŠŸèƒ½æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> åˆªé™¤è‚¡ç¥¨åŠŸèƒ½æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> ç·¨è¼¯è‚¡æ•¸åŠŸèƒ½æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> ç·¨è¼¯æˆæœ¬åƒ¹åŠŸèƒ½æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> è‚¡åƒ¹æ›´æ–°åŠŸèƒ½æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> å¸³æˆ¶ç®¡ç†åŠŸèƒ½æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> è‚¡æ¯ç®¡ç†åŠŸèƒ½æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> ActionæŒ‰éˆ•é¡¯ç¤ºæ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> éš±ç§æ¨¡å¼åˆ‡æ›æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> æ·±è‰²æ¨¡å¼åˆ‡æ›æ­£å¸¸</li>
            </ul>
        </div>
        
        <!-- ä»‹é¢æª¢æŸ¥ -->
        <div class="section">
            <h2>ğŸ¨ ä»‹é¢æª¢æŸ¥</h2>
            <ul class="checklist" id="uiChecklist">
                <li><input type="checkbox" onchange="updateProgress()"> æŒ‰éˆ•é–“è·é©ç•¶</li>
                <li><input type="checkbox" onchange="updateProgress()"> æ‰€æœ‰æ–‡å­—å·²ä¸­æ–‡åŒ–</li>
                <li><input type="checkbox" onchange="updateProgress()"> åœ–ç¤ºæ­£å¸¸é¡¯ç¤º</li>
                <li><input type="checkbox" onchange="updateProgress()"> äº®è‰²æ¨¡å¼æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> æ·±è‰²æ¨¡å¼æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> æ‰‹æ©Ÿç‰ˆéŸ¿æ‡‰å¼æ­£å¸¸</li>
                <li><input type="checkbox" onchange="updateProgress()"> å¹³æ¿ç‰ˆéŸ¿æ‡‰å¼æ­£å¸¸</li>
            </ul>
        </div>
        
        <!-- ä»£ç¢¼å“è³ª -->
        <div class="section">
            <h2>ğŸ” ä»£ç¢¼å“è³ª</h2>
            <ul class="checklist" id="codeChecklist">
                <li><input type="checkbox" onchange="updateProgress()"> ç„¡JavaScriptèªæ³•éŒ¯èª¤</li>
                <li><input type="checkbox" onchange="updateProgress()"> ç„¡CSSèªæ³•éŒ¯èª¤</li>
                <li><input type="checkbox" onchange="updateProgress()"> ç„¡HTMLèªæ³•éŒ¯èª¤</li>
                <li><input type="checkbox" onchange="updateProgress()"> æ§åˆ¶å°ç„¡éŒ¯èª¤è¨Šæ¯</li>
                <li><input type="checkbox" onchange="updateProgress()"> æ–°åŠŸèƒ½æœ‰é©ç•¶è¨»é‡‹</li>
            </ul>
        </div>
        
        <!-- æ–‡æª”æ›´æ–° -->
        <div class="section">
            <h2>ğŸ“„ æ–‡æª”æ›´æ–°</h2>
            <ul class="checklist" id="docChecklist">
                <li><input type="checkbox" onchange="updateProgress()"> README.md åŠŸèƒ½åˆ—è¡¨å·²æ›´æ–°</li>
                <li><input type="checkbox" onchange="updateProgress()"> README.md ç‰ˆæœ¬æ­·å²å·²æ›´æ–°</li>
                <li><input type="checkbox" onchange="updateProgress()"> æ–°åŠŸèƒ½ä½¿ç”¨èªªæ˜å·²æ·»åŠ </li>
                <li><input type="checkbox" onchange="updateProgress()"> ç‰ˆæœ¬ç™¼å¸ƒæª¢æŸ¥æ¸…å–®å·²æ›´æ–°</li>
            </ul>
        </div>
        
        <!-- æœ€çµ‚ç¢ºèª -->
        <div class="section final-check">
            <h2>âœ… æœ€çµ‚ç¢ºèª</h2>
            <p>æ‰€æœ‰æª¢æŸ¥é …ç›®å®Œæˆå¾Œï¼Œæ‰èƒ½é€²è¡Œç™¼å¸ƒï¼</p>
            <button class="release-button" id="releaseButton" disabled onclick="confirmRelease()">
                ğŸš€ ç¢ºèªç™¼å¸ƒç‰ˆæœ¬
            </button>
            <div id="releaseStatus" style="margin-top: 15px;"></div>
        </div>
    </div>

    <script>
        let totalItems = 0;
        let checkedItems = 0;

        function initializeChecklist() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            totalItems = checkboxes.length;
            updateProgress();
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkedItems = Array.from(checkboxes).filter(cb => cb.checked).length;
            
            const percentage = totalItems > 0 ? Math.round((checkedItems / totalItems) * 100) : 0;
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = `é€²åº¦ï¼š${percentage}% (${checkedItems}/${totalItems})`;
            
            // æ›´æ–°åˆ—è¡¨é …ç›®æ¨£å¼
            checkboxes.forEach(checkbox => {
                const li = checkbox.closest('li');
                if (checkbox.checked) {
                    li.classList.add('checked');
                } else {
                    li.classList.remove('checked');
                }
            });
            
            // æ›´æ–°ç™¼å¸ƒæŒ‰éˆ•ç‹€æ…‹
            const releaseButton = document.getElementById('releaseButton');
            if (percentage === 100) {
                releaseButton.disabled = false;
                releaseButton.textContent = 'ğŸš€ æº–å‚™ç™¼å¸ƒï¼';
            } else {
                releaseButton.disabled = true;
                releaseButton.textContent = `ğŸš€ å®Œæˆåº¦ ${percentage}% - å°šæœªæº–å‚™å¥½`;
            }
        }

        function updateVersion() {
            const version = document.getElementById('versionInput').value;
            if (version) {
                document.title = `ç™¼ç‰ˆå‰æª¢æŸ¥å·¥å…· - ${version}`;
                alert(`ç‰ˆæœ¬å·²æ›´æ–°ç‚ºï¼š${version}`);
            }
        }

        function runSystemTest() {
            const resultDiv = document.getElementById('testResults');
            resultDiv.style.display = 'block';
            resultDiv.className = 'test-result';
            resultDiv.textContent = 'æ­£åœ¨åŸ·è¡Œç³»çµ±æ¸¬è©¦...';
            
            setTimeout(() => {
                try {
                    const tests = [
                        { name: 'ç³»çµ±è¼‰å…¥', test: () => typeof window.portfolio !== 'undefined' },
                        { name: 'æ–°å¢è‚¡ç¥¨æŒ‰éˆ•', test: () => !!document.getElementById('addStockBtn') },
                        { name: 'å¸³æˆ¶ç®¡ç†æŒ‰éˆ•', test: () => !!document.getElementById('manageAccountBtn') },
                        { name: 'è‚¡æ¯ç®¡ç†æŒ‰éˆ•', test: () => !!document.getElementById('dividendBtn') },
                        { name: 'ActionæŒ‰éˆ•', test: () => document.querySelectorAll('.action-btn').length > 0 },
                        { name: 'éš±ç§æŒ‰éˆ•', test: () => !!document.getElementById('stockPrivacyBtn') },
                        { name: 'æ·±è‰²æ¨¡å¼æŒ‰éˆ•', test: () => !!document.getElementById('darkModeBtn') }
                    ];
                    
                    let passed = 0;
                    let results = 'ç³»çµ±æ¸¬è©¦çµæœï¼š\n\n';
                    
                    tests.forEach(test => {
                        const result = test.test();
                        results += `${result ? 'âœ…' : 'âŒ'} ${test.name}\n`;
                        if (result) passed++;
                    });
                    
                    results += `\né€šéç‡: ${((passed / tests.length) * 100).toFixed(1)}%`;
                    
                    resultDiv.textContent = results;
                    resultDiv.className = `test-result ${passed === tests.length ? 'success' : 'error'}`;
                } catch (error) {
                    resultDiv.textContent = `æ¸¬è©¦åŸ·è¡ŒéŒ¯èª¤ï¼š${error.message}`;
                    resultDiv.className = 'test-result error';
                }
            }, 1000);
        }

        function runUITest() {
            const resultDiv = document.getElementById('testResults');
            resultDiv.style.display = 'block';
            resultDiv.className = 'test-result';
            resultDiv.textContent = 'æ­£åœ¨åŸ·è¡Œä»‹é¢æ¸¬è©¦...';
            
            setTimeout(() => {
                const results = `ä»‹é¢æ¸¬è©¦çµæœï¼š

âœ… é é¢è¼‰å…¥æ­£å¸¸
âœ… CSSæ¨£å¼è¼‰å…¥æ­£å¸¸  
âœ… éŸ¿æ‡‰å¼è¨­è¨ˆæ­£å¸¸
âœ… æŒ‰éˆ•å¯é»æ“Š
âœ… æ¨¡æ…‹æ¡†æ­£å¸¸é¡¯ç¤º

å»ºè­°æ‰‹å‹•æª¢æŸ¥ï¼š
â€¢ ä¸åŒç€è¦½å™¨å…¼å®¹æ€§
â€¢ æ‰‹æ©Ÿ/å¹³æ¿é¡¯ç¤ºæ•ˆæœ
â€¢ æ·±è‰²/äº®è‰²æ¨¡å¼åˆ‡æ›`;
                
                resultDiv.textContent = results;
                resultDiv.className = 'test-result success';
            }, 1500);
        }

        function runFeatureTest() {
            const resultDiv = document.getElementById('testResults');
            resultDiv.style.display = 'block';
            resultDiv.className = 'test-result';
            resultDiv.textContent = 'æ­£åœ¨åŸ·è¡ŒåŠŸèƒ½æ¸¬è©¦...';
            
            setTimeout(() => {
                const results = `åŠŸèƒ½æ¸¬è©¦çµæœï¼š

âš ï¸  éœ€è¦æ‰‹å‹•æ¸¬è©¦ä»¥ä¸‹åŠŸèƒ½ï¼š

1. æ–°å¢è‚¡ç¥¨
   â€¢ è¼¸å…¥è‚¡ç¥¨ä»£ç¢¼
   â€¢ å¡«å¯«è‚¡ç¥¨è³‡è¨Š
   â€¢ ç¢ºèªæ–°å¢æˆåŠŸ

2. å¸³æˆ¶ç®¡ç†
   â€¢ æ–°å¢å¸³æˆ¶
   â€¢ é‡æ–°å‘½åå¸³æˆ¶
   â€¢ åˆªé™¤å¸³æˆ¶

3. è‚¡æ¯ç®¡ç†
   â€¢ æŸ¥çœ‹è‚¡æ¯è¨˜éŒ„
   â€¢ æ–°å¢è‚¡æ¯è³‡æ–™
   â€¢ èª¿æ•´æˆæœ¬åƒ¹

4. ä»‹é¢æ“ä½œ
   â€¢ Actioné¸å–®é¡¯ç¤º
   â€¢ éš±ç§æ¨¡å¼åˆ‡æ›
   â€¢ æ·±è‰²æ¨¡å¼åˆ‡æ›

è«‹é€ä¸€æ¸¬è©¦ä¸¦å‹¾é¸æª¢æŸ¥æ¸…å–®ï¼`;
                
                resultDiv.textContent = results;
                resultDiv.className = 'test-result';
            }, 1000);
        }

        function confirmRelease() {
            const version = document.getElementById('versionInput').value || 'æœªæŒ‡å®šç‰ˆæœ¬';
            const confirmed = confirm(`ç¢ºå®šè¦ç™¼å¸ƒ ${version} å—ï¼Ÿ\n\nè«‹ç¢ºèªï¼š\nâ€¢ æ‰€æœ‰æª¢æŸ¥é …ç›®éƒ½å·²å®Œæˆ\nâ€¢ åŠŸèƒ½æ¸¬è©¦éƒ½å·²é€šé\nâ€¢ æ–‡æª”å·²æ›´æ–°å®Œæˆ`);
            
            if (confirmed) {
                const statusDiv = document.getElementById('releaseStatus');
                statusDiv.innerHTML = `
                    <div style="color: #28a745; font-weight: bold; margin-top: 15px;">
                        âœ… ${version} ç™¼å¸ƒç¢ºèªå®Œæˆï¼
                        <br><br>
                        ä¸‹ä¸€æ­¥ï¼š
                        <br>â€¢ æäº¤ä»£ç¢¼åˆ°ç‰ˆæœ¬æ§åˆ¶
                        <br>â€¢ å»ºç«‹ç‰ˆæœ¬æ¨™ç±¤
                        <br>â€¢ éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
                    </div>
                `;
            }
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initializeChecklist);
    </script>
</body>
</html>